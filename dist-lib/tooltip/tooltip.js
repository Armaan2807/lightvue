"use strict";var t=require("lightvue/utils/UniqueComponentId"),e=require("lightvue/utils/DomHandler");function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=l(t),i=l(e);function n(t){t.$_lvtooltipModifiers.focus?(alert("focus..."),t.addEventListener("focus",f),t.addEventListener("blur",a)):(t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",d),t.addEventListener("click",s))}function u(t){t.$_lvtooltipModifiers.focus?(t.removeEventListener("focus",f),t.removeEventListener("blur",a)):(t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",d),t.removeEventListener("click",s))}function r(t){p(t.currentTarget)}function d(t){c(t.currentTarget)}function f(t){alert("focus"),p(t.currentTarget)}function a(t){alert("blur"),c(t.currentTarget)}function s(t){c(t.currentTarget)}function p(t){if(!t.$_lvtooltipValue)return;let e=function(t){const e=o.default()+"_tooltip";t.$_lvtooltipId=e;let l=document.createElement("div");l.id=e;let i=document.createElement("div");i.className="lv-tooltip-arrow",l.appendChild(i);let n=document.createElement("div");return n.className="lv-tooltip-text",n.innerHTML=t.$_lvtooltipValue,l.appendChild(n),document.body.appendChild(l),l.style.display="inline-block",l}(t);!function(t){const e=t.$_lvtooltipModifiers;e.top?(E(t),x(t)&&_(t)):e.left?(y(t),x(t)&&(h(t),x(t)&&(E(t),x(t)&&_(t)))):e.bottom?(_(t),x(t)&&E(t)):(h(t),x(t)&&(y(t),x(t)&&(E(t),x(t)&&_(t))))}(t),i.default.fadeIn(e,250),e.style.zIndex=++i.default.zindex,window.addEventListener("resize",(function e(){c(t),this.removeEventListener("resize",e)}))}function c(t){g(t)}function v(t){return document.getElementById(t.$_lvtooltipId)}function g(t){if(t){let e=v(t);e&&e.parentElement&&document.body.removeChild(e),t.$_lvtooltipId=null}}function m(t){let e=t.getBoundingClientRect();return{left:e.left+i.default.getWindowScrollLeft(),top:e.top+i.default.getWindowScrollTop()}}function h(t){$(t,"right");let e=v(t),l=m(t),o=l.left+i.default.getOuterWidth(t),n=l.top+(i.default.getOuterHeight(t)-i.default.getOuterHeight(e))/2;e.style.left=o+"px",e.style.top=n+"px"}function y(t){$(t,"left");let e=v(t),l=m(t),o=l.left-i.default.getOuterWidth(e),n=l.top+(i.default.getOuterHeight(t)-i.default.getOuterHeight(e))/2;e.style.left=o+"px",e.style.top=n+"px"}function E(t){$(t,"top");let e=v(t),l=m(t),o=l.left+(i.default.getOuterWidth(t)-i.default.getOuterWidth(e))/2,n=l.top-i.default.getOuterHeight(e);e.style.left=o+"px",e.style.top=n+"px"}function _(t){$(t,"bottom");let e=v(t),l=m(t),o=l.left+(i.default.getOuterWidth(t)-i.default.getOuterWidth(e))/2,n=l.top+i.default.getOuterHeight(t);e.style.left=o+"px",e.style.top=n+"px"}function $(t,e){let l=v(t);l.style.left="-999px",l.style.top="-999px",l.className="lv-tooltip lv-component lv-tooltip-"+e}function x(t){let e=v(t),l=e.getBoundingClientRect(),o=l.top,n=l.left,u=i.default.getOuterWidth(e),r=i.default.getOuterHeight(e),d=i.default.getViewport();return n+u>d.width||n<0||o<0||o+r>d.height}const L={bind(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,n(t)},unbind(t){g(t),u(t)},update(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value},mounted(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,n(t)},unmounted(t){g(t),u(t)},updated(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value}};module.exports=L;
