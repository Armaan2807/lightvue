"use strict";var t=require("lightvue/utils");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=e(require("lightvue/utils/DomHandler"));function o(t){t.$_lvtooltipModifiers.focus?(alert("focus..."),t.addEventListener("focus",r),t.addEventListener("blur",d)):(t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",u),t.addEventListener("click",f))}function i(t){t.$_lvtooltipModifiers.focus?(t.removeEventListener("focus",r),t.removeEventListener("blur",d)):(t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",u),t.removeEventListener("click",f))}function n(t){a(t.currentTarget)}function u(t){s(t.currentTarget)}function r(t){alert("focus"),a(t.currentTarget)}function d(t){alert("blur"),s(t.currentTarget)}function f(t){s(t.currentTarget)}function a(e){if(!e.$_lvtooltipValue)return;let o=function(e){const l=t.UniqueComponentId()+"_tooltip";e.$_lvtooltipId=l;let o=document.createElement("div");o.id=l;let i=document.createElement("div");i.className="lv-tooltip-arrow",o.appendChild(i);let n=document.createElement("div");return n.className="lv-tooltip-text",n.innerHTML=e.$_lvtooltipValue,o.appendChild(n),document.body.appendChild(o),o.style.display="inline-block",o}(e);!function(t){const e=t.$_lvtooltipModifiers;e.top?(h(t),_(t)&&y(t)):e.left?(m(t),_(t)&&(g(t),_(t)&&(h(t),_(t)&&y(t)))):e.bottom?(y(t),_(t)&&h(t)):(g(t),_(t)&&(m(t),_(t)&&(h(t),_(t)&&y(t))))}(e),l.default.fadeIn(o,250),o.style.zIndex=++l.default.zindex,window.addEventListener("resize",(function t(){s(e),this.removeEventListener("resize",t)}))}function s(t){c(t)}function p(t){return document.getElementById(t.$_lvtooltipId)}function c(t){if(t){let e=p(t);e&&e.parentElement&&document.body.removeChild(e),t.$_lvtooltipId=null}}function v(t){let e=t.getBoundingClientRect();return{left:e.left+l.default.getWindowScrollLeft(),top:e.top+l.default.getWindowScrollTop()}}function g(t){E(t,"right");let e=p(t),o=v(t),i=o.left+l.default.getOuterWidth(t),n=o.top+(l.default.getOuterHeight(t)-l.default.getOuterHeight(e))/2;e.style.left=i+"px",e.style.top=n+"px"}function m(t){E(t,"left");let e=p(t),o=v(t),i=o.left-l.default.getOuterWidth(e),n=o.top+(l.default.getOuterHeight(t)-l.default.getOuterHeight(e))/2;e.style.left=i+"px",e.style.top=n+"px"}function h(t){E(t,"top");let e=p(t),o=v(t),i=o.left+(l.default.getOuterWidth(t)-l.default.getOuterWidth(e))/2,n=o.top-l.default.getOuterHeight(e);e.style.left=i+"px",e.style.top=n+"px"}function y(t){E(t,"bottom");let e=p(t),o=v(t),i=o.left+(l.default.getOuterWidth(t)-l.default.getOuterWidth(e))/2,n=o.top+l.default.getOuterHeight(t);e.style.left=i+"px",e.style.top=n+"px"}function E(t,e){let l=p(t);l.style.left="-999px",l.style.top="-999px",l.className="lv-tooltip lv-component lv-tooltip-"+e}function _(t){let e=p(t),o=e.getBoundingClientRect(),i=o.top,n=o.left,u=l.default.getOuterWidth(e),r=l.default.getOuterHeight(e),d=l.default.getViewport();return n+u>d.width||n<0||i<0||i+r>d.height}const $={bind(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,o(t)},unbind(t){c(t),i(t)},update(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value},mounted(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,o(t)},unmounted(t){c(t),i(t)},updated(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value}};module.exports=$;
