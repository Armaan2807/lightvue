import e from"lightvue/input/Input.vue";var t={name:"LvTextarea",components:{LvInput:e},data:()=>({localValue:""}),props:{value:{type:String,default:""},maxLength:{type:Number},showLimit:{type:Boolean,default:!1},autoResize:{type:Boolean,default:!1},resize:{type:String,default:"none"}},cachedScrollHeight:null,mounted(){this.$refs.textarea.offsetParent&&this.autoResize&&this.resizeTextarea()},methods:{resizeTextarea(){this.cachedScrollHeight||(this.cachedScrollHeight=this.$refs.textarea.scrollHeight,this.$refs.textarea.style.overflow="hidden"),this.cachedScrollHeight!==this.$refs.textarea.scrollHeight&&(this.$refs.textarea.style.height="",this.$refs.textarea.style.height=this.$refs.textarea.scrollHeight+"px",parseFloat(this.$refs.textarea.style.height)>=parseFloat(this.$refs.textarea.style.maxHeight)?(this.$refs.textarea.style.overflowY="scroll",this.$refs.textarea.style.height=this.$refs.textarea.style.maxHeight):this.$refs.textarea.style.overflow="hidden",this.cachedScrollHeight=this.$refs.textarea.scrollHeight)},updateValue(e){this.autoResize&&this.resizeTextarea(),this.localValue=e.target.value,this.$emit("input-native",e),this.$emit("input",e.target.value),this.$emit("update:modelValue",e.target.value)}},computed:{listeners(){return{...this.$listeners,input:e=>{this.updateValue(e)}}},filled(){return null!=this.modelValue&&this.modelValue.toString().length>0},modelValue(){return this.$attrs.modelValue?this.$attrs.modelValue:this.value?this.value:this.localValue}}};function a(e,t,a,s,i,n,l,r,o,d){"boolean"!=typeof l&&(o=r,r=l,l=!1);const h="function"==typeof a?a.options:a;let u;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),s&&(h._scopeId=s),n?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},h._ssrRegister=u):t&&(u=l?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(h.functional){const e=h.render;h.render=function(t,a){return u.call(a),e(t,a)}}else{const e=h.beforeCreate;h.beforeCreate=e?[].concat(e,u):[u]}return a}const s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function i(e){return(e,t)=>function(e,t){const a=s?t.media||"default":e,i=l[a]||(l[a]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===n&&(n=document.head||document.getElementsByTagName("head")[0]),n.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,t=document.createTextNode(a),s=i.element.childNodes;s[e]&&i.element.removeChild(s[e]),s.length?i.element.insertBefore(t,s[e]):i.element.appendChild(t)}}}(e,t)}let n;const l={};const r=a({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("lv-input",e._b({ref:"mainInput",class:{"--not-empty":e.filled},attrs:{type:"text",editable:!1}},"lv-input",e.$attrs,!1),[a("textarea",e._b({ref:"textarea",staticClass:"lv-textarea",class:{"--resize-vertical":"vertical"===e.resize},attrs:{maxlength:e.maxLength},domProps:{value:e.modelValue},on:{input:e.updateValue}},"textarea",e.$attrs,!1))]),e._v(" "),e.showLimit&&e.maxLength?a("div",{staticClass:"lv-textarea__limits"},[e._v(e._s(e.modelValue?e.modelValue.length:0)+" / "+e._s(e.maxLength))]):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-9a926a94_0",{source:".lv-textarea{border:none;width:100%;background:0 0;outline:0;resize:none}.lv-textarea.--resize-vertical{resize:vertical}.lv-textarea__limits{display:flex;justify-content:flex-end;margin-top:5px}",map:void 0,media:void 0})}),t,undefined,false,undefined,!1,i,void 0,void 0);export default r;
